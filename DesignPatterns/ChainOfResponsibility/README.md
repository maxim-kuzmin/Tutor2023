# Паттерн "Цепочка Обязанностей" (Chain of responsibility)

В случае, если необходимо обеспечить обработку запроса одним из нескольких обработчиков и при этом неважно каким именно, эти обработчики
можно выстроить в цепочку так, чтобы проходя по этой цепочке запрос либо выполнялся одним из обработчиков, либо передавался дальше по цепочке
другому обработчику до тех пор, пока не будет достигнут конец цепочки в виде обработчика, которому передавать запрос дальше некуда.

В этом паттерне есть два действующих лица: Обработчик (Handler) и Запрос (Request). Обработчик может либо содержать экземпляр другого
Обработчика, либо нет. У каждого Обработчика есть метод Handle, на вход которого подаётся Запрос. Внутри этого метода в зависимости от
содержимого Запроса ОБработчик принимает решение, обрабатывать его или вызвать метод Handle имеющегося у него экземпляра другого Запроса,
который называется Преемник (Successor). Если Преемник отсутствует, обработка Запроса завершается. В этом случае Запрос остаётся
необработанным.

Очень важно обеспечить отсутствие зацикленности цепочки так, чтобы последний Обработчик в этой цепочке не имел Преемника.

Для работы с цепочкой Запросов используется Клиент (Client) - класс, предназначенный для создания Обработчиков и объединения их в цепочку,
а также для создания Запроса и передачи его в метод Handle того Запроса, который находится в начале цепочки.

## Задача

Обеспечить обработку запроса одним из нескольких обработчиков, количество которых заранее неизвестно и может меняться динамически.

## Решение

Создаётся класс Запроса по имени Request, содержащий строковое свойство Data, значение которого передаётся в конструкторе.

Создаётся абстрактный класс Обработчика по имени Handler, содержащий метод Handle, принимающий экземпляр класса Request, а
также свойство типа Handler с именем Successor. Свойство Successor инициализируется в конструкторе. Также в этот класс добавляется
логическое свойство IsHandled, которое будет сигнализировать о том, обработан ли Запрос или нет.

Создаётся два наследника класса Handler: NotNullDataHandler и NullDataHandler. Первый из них обрабатывает экземпляр класса Request
в случае, если его свойство Data не содержит NULL, а второй - если содержит. Результатом обработки является установка значения свойства
IsHandled в true.

Программа создаёт экземпляр класса NullDataHandler, передавая в его конструктор null, а затем создаёт экземпляр класса
NotNullDataHandler, передавая в его конструктор экземпляр класса NullDataHandler.

Далее программа создаёт экземпляр класса Request, передавая в его конструктор null, а затем вызывает метод Handle экземпляра класса
NotNullDataHandler, передавая в него экземпляр класса Request. В консоль выводятся результаты работы метода Handle каждого из
Обработчиков в виде содержимого их свойства IsHandled.

Затем программа создаёт экземпляр класса Request, передавая в его конструктор пустую строку и повторяет то же самое.
